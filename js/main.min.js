"use strict";function styleInput(t,e){console.log(e);var a=t.attr("name");t.attr("placeholder")||t.val()||"file"==t.attr("type")||"date"==t.attr("type")?$('label[for="'+a+'"]').addClass("up"):$('label[for="'+a+'"]').removeClass("up"),"focus"==e&&($('label[for="'+a+'"]').addClass("up"),t.parent().addClass("focus")),"blur"==e&&t.parent().removeClass("focus")}function setCookie(t,e,a){var i=new Date;i.setTime(i.getTime()+24*a*60*60*1e3);var n="expires="+i.toUTCString();document.cookie=t+"="+e+";"+n+";path=/"}function getCookie(t){for(var e=t+"=",a=decodeURIComponent(document.cookie).split(";"),i=0;i<a.length;i++){for(var n=a[i];" "==n.charAt(0);)n=n.substring(1);if(0==n.indexOf(e))return n.substring(e.length,n.length)}return""}function getQueryParam(e){return location.search.substr(1).split("&").some(function(t){return t.split("=")[0]==e&&(e=t.split("=")[1])}),e}if(!getCookie("siteSettings"))var siteSettings={};if($(".publishsite").click(function(){alert("Site Published")}),getCookie("language")||setCookie("language","en"),getCookie("language")&&$("body").append('<style>[lang]{display:none;}[lang="'+getCookie("language")+'"]{display:inline-block;}</style>'),$('input[name="lang"][value="'+getCookie("language")+'"]').prop("checked",!0),getCookie("skin")){var skin=getCookie("skin");$("#main-style").attr("href","css/"+skin+".css")}if($('input[name="skin"][value="'+getCookie("skin")+'"]').prop("checked",!0),$(".saveappsettings").click(function(){var t=$('input[name="lang"]:checked').val(),e=$('input[name="skin"]:checked').val();setCookie("language",t,1),setCookie("skin",e,1),location.reload()}),$(".create").click(function(){var t={};if($('input[name="directory"]').length)t.directory=$('input[name="directory"]').val();else{var e=JSON.parse(getCookie("siteSettings"));t.directory=e.directory}t.projectName=$('input[name="project-name"]').val(),t.publishPlatform=$('input[name="publish-platform"]:checked').val(),t.ftpHost=$('input[name="ftp-host"]').val(),t.ftpUsername=$('input[name="ftp-username"]').val(),t.ftpPassword=$('input[name="ftp-password"]').val(),t.ftpPort=$('input[name="ftp-port"]').val(),t.ftpDirectory=$('input[name="ftp-directory"]').val(),t.gitHubUsername=$('input[name="github-username"]').val(),t.gitHubPassword=$('input[name="github-password"]').val(),t.gitHubProjectUrl=$('input[name="github-project-url"]').val(),console.log(t),setCookie("siteSettings",JSON.stringify(t),1)}),getCookie("siteSettings")){var s=JSON.parse(getCookie("siteSettings"));console.log(s),$('input[name="directory-path"]').val(s.directory.toString()),$('input[name="project-name"]').val(s.projectName),$('input[name="publish-platform"][value="'+s.publishPlatform+'"]').prop("checked",!0),$('input[name="ftp-host"]').val(s.ftpHost),$('input[name="ftp-username"]').val(s.ftpUsername),$('input[name="ftp-password"]').val(s.ftpPassword),$('input[name="ftp-port"]').val(s.ftpPort),$('input[name="ftp-directory"]').val(s.ftpDirectory),$('input[name="github-username"]').val(s.gitHubUsername),$('input[name="github-password"]').val(s.gitHubPassword),$('input[name="github-project-url"]').val(s.gitHubProjectUrl)}$("#edit-content-html").trumbowyg(),$("#create-content-html").trumbowyg();var postItems=[],posts={};if(getCookie("posts")){posts=JSON.parse(getCookie("posts"));$.each(posts,function(){var t="";for(i=0;i<this.tags.length;i++)t+='<span class="tag">'+this.tags[i]+"</span>";postItems.push("<tr><td>"+this.id+"</td><td>"+this.title+"</td><td>"+t+"</td><td>"+this.date+"</td><td>"+this.status+'</td><td><a class="editpost btn" href="editpost.html" data-edit-post-id="'+this.id+'">Edit</a><a class="deletepost btn" href="#" data-delete-post-id="'+this.id+'">Delete</a><a class="duplicatepost btn" href="#" data-duplicate-post-id="'+this.id+'">Duplicate</a></td></tr>')})}else $.getJSON("js/posts.json",function(t){$.each(t,function(){var t={};t.id=this.id,t.title=this.title,t.description=this.description,t.date=this.date,t.layout=this.layout,t.featuredImage=this.featuredImage,t.tags=this.tags,t.status=this.status,t.content=this.content,posts["post"+t.id]=t;var e="";for(i=0;i<this.tags.length;i++)e+='<span class="tag">'+this.tags[i]+"</span>";postItems.push("<tr><td>"+this.id+"</td><td>"+this.title+"</td><td>"+e+"</td><td>"+this.date+"</td><td>"+this.status+'</td><td><a class="editpost btn" href="editpost.html" data-edit-post-id="'+this.id+'">Edit</a><a class="deletepost btn" href="#" data-delete-post-id="'+this.id+'">Delete</a><a class="duplicatepost btn" href="#" data-duplicate-post-id="'+this.id+'">Duplicate</a></td></tr>')}),setCookie("posts",JSON.stringify(posts),1),posts=JSON.parse(getCookie("posts"))});if(~window.location.pathname.indexOf("posts")&&($("tbody").append(postItems),$("table").on("click",".editpost",function(){$(this).each(function(){var t=$(this).data("edit-post-id");posts=JSON.parse(getCookie("posts")),console.log(posts);var e=posts["post"+t];console.log(e.content),setCookie("currentEdit",JSON.stringify(e),1)})}),$("table").on("click",".deletepost",function(){posts=JSON.parse(getCookie("posts"));var t=$(this).data("delete-post-id"),e=posts["post"+t];confirm("Are you sure your want to delete "+e.title+"?")&&(delete posts["post"+t],setCookie("posts",JSON.stringify(posts),1),location.reload())}),$("table").on("click",".duplicatepost",function(){posts=JSON.parse(getCookie("posts"));var t=$(this).data("duplicate-post-id"),e=posts["post"+t],a=Object.keys(posts).length;posts["post"+(a+1)]=e,posts["post"+(a+1)].id=a+1,console.log(posts),setCookie("posts",JSON.stringify(posts),1),location.reload()})),~window.location.pathname.indexOf("editpost")){if(getCookie("currentEdit")){var cp=JSON.parse(getCookie("currentEdit"));$('input[name="edit-title"]').val(cp.title),$("#edit-content-html").trumbowyg("html",cp.content),$('input[name="edit-description"]').val(cp.description),$('input[name="edit-date"]').val(cp.date),$('input[name="edit-layout"][value="'+cp.layout+'"]').prop("checked",!0),$(".media-chooser img").attr("src",cp.featuredImage),$('input[name="edit-tags"]').val(cp.tags)}$(".publishedit").click(function(){var t={},e=JSON.parse(getCookie("currentEdit"));t.id=e.id,t.title=$('input[name="edit-title"]').val(),t.description=$('input[name="edit-description"]').val(),t.date=$('input[name="edit-date"]').val(),t.layout=$('input[name="edit-layout"]:checked').val(),t.featuredImage=$(".media-chooser img").attr("src"),t.tags=$('input[name="edit-tags"]').val().split(","),t.status="published",t.content=$("#edit-content-html").trumbowyg("html"),setCookie("currentEdit",JSON.stringify(t),1),posts=JSON.parse(getCookie("posts")),console.log(posts),posts["post"+t.id]=t,setCookie("posts",JSON.stringify(posts),1)}),$(".savedraft").click(function(){var t={},e=JSON.parse(getCookie("currentEdit"));t.id=e.id,t.title=$('input[name="edit-title"]').val(),t.description=$('input[name="edit-description"]').val(),t.date=$('input[name="edit-date"]').val(),t.layout=$('input[name="edit-layout"]:checked').val(),t.featuredImage=$(".media-chooser img").attr("src"),t.tags=$('input[name="edit-tags"]').val().split(","),t.status="draft",t.content=$("#edit-content-html").trumbowyg("html"),setCookie("currentEdit",JSON.stringify(t),1),posts=JSON.parse(getCookie("posts")),console.log(posts),posts["post"+t.id]=t,setCookie("posts",JSON.stringify(posts),1)})}if(~window.location.pathname.indexOf("newpost")){var date=new Date;$('input[type="date"]').val(date.toISOString().split("T")[0]),$(".publishpost").click(function(t){var e={},a=JSON.parse(getCookie("posts")),i=Object.keys(a).length;e.id=i+1,$('input[name="create-title"]').val()&&$('textarea[name="create-content-html"]').val()?(e.title=$('input[name="create-title"]').val(),e.description=$('input[name="create-description"]').val(),e.date=$('input[name="create-date"]').val(),e.layout=$('input[name="create-layout"]:checked').val(),e.featuredImage=$(".feat-img .img").attr("src"),e.tags=$('input[name="create-tags"]').val().split(","),e.status="published",e.content=$('textarea[name*="create-content"]').trumbowyg("html"),a["post"+e.id]=e,console.log(a),setCookie("posts",JSON.stringify(a),1)):(alert("Add at least title and content"),t.preventDefault())}),$(".savepostdraft").click(function(t){var e={},a=JSON.parse(getCookie("posts")),i=Object.keys(a).length;e.id=i+1,$('input[name="create-title"]').val()&&$('textarea[name="create-content-html"]').val()?(e.title=$('input[name="create-title"]').val(),e.description=$('input[name="create-description"]').val(),e.date=$('input[name="create-date"]').val(),e.layout=$('input[name="create-layout"]:checked').val(),e.featuredImage=$(".media-chooser img").attr("src"),e.tags=$('input[name="create-tags"]').val().split(","),e.status="draft",e.content=$('textarea[name*="create-content"]').trumbowyg("html"),a["post"+e.id]=e,console.log(a),setCookie("posts",JSON.stringify(a),1)):(alert("Add at least title and content"),t.preventDefault())})}var pageItems=[],pages={};if(getCookie("pages")){console.log("pages cookie exists");pages=JSON.parse(getCookie("pages"));$.each(pages,function(){pageItems.push("<tr><td>"+this.id+"</td><td>"+this.title+"</td><td>"+this.status+'</td><td><a class="editpage btn" href="editpage.html" data-edit-page-id="'+this.id+'">Edit</a><a class="deletepage btn" href="#" data-delete-page-id="'+this.id+'">Delete</a><a class="duplicatepage btn" href="#" data-duplicate-page-id="'+this.id+'">Duplicate</a></td></tr>')})}else console.log("pages Cookie doesnt exist"),$.getJSON("js/pages.json",function(t){$.each(t,function(){var t={};t.id=this.id,t.title=this.title,t.description=this.description,t.layout=this.layout,t.status=this.status,t.content=this.content,pages["page"+t.id]=t,pageItems.push("<tr><td>"+this.id+"</td><td>"+this.title+"</td><td>"+this.status+'</td><td><a class="editpage btn" href="editpage.html" data-edit-page-id="'+this.id+'">Edit</a><a class="deletepage btn" href="#" data-delete-page-id="'+this.id+'">Delete</a><a class="duplicatepage btn" href="#" data-duplicate-page-id="'+this.id+'">Duplicate</a></td></tr>')}),setCookie("pages",JSON.stringify(pages),1),pages=JSON.parse(getCookie("pages"))});if(~window.location.pathname.indexOf("pages")&&($("tbody").append(pageItems),$("table").on("click",".editpage",function(){$(this).each(function(){var t=$(this).data("edit-page-id");pages=JSON.parse(getCookie("pages")),console.log(pages);var e=pages["page"+t];console.log(e.content),setCookie("currentEdit",JSON.stringify(e),1)})}),$("table").on("click",".deletepage",function(){pages=JSON.parse(getCookie("pages"));var t=$(this).data("delete-page-id"),e=pages["page"+t];confirm("Are you sure your want to delete "+e.title+"?")&&(delete pages["page"+t],setCookie("pages",JSON.stringify(pages),1),location.reload())}),$("table").on("click",".duplicatepage",function(){pages=JSON.parse(getCookie("pages"));var t=$(this).data("duplicate-page-id"),e=pages["page"+t],a=Object.keys(pages).length;pages["page"+(a+1)]=e,pages["page"+(a+1)].id=a+1,console.log(pages),setCookie("pages",JSON.stringify(pages),1),location.reload()})),~window.location.pathname.indexOf("editpage")){if(getCookie("currentEdit")){cp=JSON.parse(getCookie("currentEdit"));$('input[name="edit-title"]').val(cp.title),$("#edit-content-html").trumbowyg("html",cp.content),$('input[name="edit-description"]').val(cp.description),$('input[name="edit-layout"][value="'+cp.layout+'"]').prop("checked",!0),$(".feat-img").append('<img src="img/'+cp.featuredImage+'">')}$(".publishedit").click(function(){var t={},e=JSON.parse(getCookie("currentEdit"));t.id=e.id,t.title=$('input[name="edit-title"]').val(),t.description=$('input[name="edit-description"]').val(),t.layout=$('input[name="edit-layout"]:checked').val(),t.status="published",t.content=$("#edit-content-html").trumbowyg("html"),setCookie("currentEdit",JSON.stringify(t),1),pages=JSON.parse(getCookie("pages")),console.log(pages),pages["page"+t.id]=t,setCookie("pages",JSON.stringify(pages),1)}),$(".savedraft").click(function(){var t={},e=JSON.parse(getCookie("currentEdit"));t.id=e.id,t.title=$('input[name="edit-title"]').val(),t.description=$('input[name="edit-description"]').val(),t.layout=$('input[name="edit-layout"]:checked').val(),t.status="draft",t.content=$("#edit-content-html").trumbowyg("html"),setCookie("currentEdit",JSON.stringify(t),1),pages=JSON.parse(getCookie("pages")),console.log(pages),pages["page"+t.id]=t,setCookie("pages",JSON.stringify(pages),1)})}if(~window.location.pathname.indexOf("newpage")&&($(".publishpage").click(function(t){var e={},a=JSON.parse(getCookie("pages")),i=Object.keys(a).length;e.id=i+1,$('input[name="create-title"]').val()&&$('textarea[name="create-content-html"]').val()?(e.title=$('input[name="create-title"]').val(),e.description=$('input[name="create-description"]').val(),e.layout=$('input[name="create-layout"]:checked').val(),e.status="published",e.content=$('textarea[name*="create-content"]').trumbowyg("html"),a["page"+e.id]=e,console.log(a),setCookie("pages",JSON.stringify(a),1)):(alert("Add at least title and content"),t.preventDefault())}),$(".savepagedraft").click(function(t){var e={},a=JSON.parse(getCookie("pages")),i=Object.keys(a).length;e.id=i+1,$('input[name="create-title"]').val()&&$('textarea[name="create-content-html"]').val()?(e.title=$('input[name="create-title"]').val(),e.description=$('input[name="create-description"]').val(),e.layout=$('input[name="create-layout"]:checked').val(),e.status="draft",e.content=$('textarea[name*="create-content"]').trumbowyg("html"),a["page"+e.id]=e,console.log(a),setCookie("pages",JSON.stringify(a),1)):(alert("Add at least title and content"),t.preventDefault())})),~window.location.pathname.indexOf("navigation")){var pageElems=[];$.each(pages,function(){var t="edit-title-"+this.title,e='<div class="menu-element dragable">';e+='<span class="title">',e+=this.title,e+="</span>",e+='<span class="edit"><i class="fas fa-edit"></i></span>',e+='<span class="delete"><i class="fas fa-trash-alt"></i></span>',e+='<div class="edit-name">',e+='<div class="wrap">',e+='<label for="'+t+'">display as</label>',e+='<input type="text" name="'+t+'" id="'+t+'" value="'+this.title+'">',e+="</div>",e+='<span class="btn apply">apply</span>',e+="</div>",e+="</div>",pageElems.push(e)}),$(".pages").append(pageElems)}if(~window.location.pathname.indexOf("themeoptions")){if(!getCookie("themeOptionsInitial")){var toInitial={};toInitial.fontSize=$('input[name="root-font-size"]').val(),toInitial.containerWidth=$('input[name="main-container-width"]').val(),toInitial.maxWidth=$('input[name="main-max-width"]').val(),toInitial.gutter=$('input[name="gutter-width"]').val(),toInitial.bgColor=$('input[name="background-color"]').val(),toInitial.mainColor=$('input[name="main-color"]').val(),toInitial.primary=$('input[name="primary-color"]').val(),toInitial.secondary=$('input[name="scnd-color"]').val(),toInitial.header=$(".media-chooser img").attr("src"),toInitial.layout=$('input[name="main-layout"]:checked').val(),setCookie("themeOptionsInitial",JSON.stringify(toInitial),1),getCookie("themeOptions")||setCookie("themeOptions",JSON.stringify(toInitial),1)}if(getCookie("themeOptions")){var o=JSON.parse(getCookie("themeOptions"));$('input[name="root-font-size"]').val(o.fontSize),$('input[name="main-container-width"]').val(o.containerWidth),$('input[name="main-max-width"]').val(o.maxWidth),$('input[name="gutter-width"]').val(o.gutter),$('input[name="background-color"]').val(o.bgColor),$('input[name="main-color"]').val(o.mainColor),$('input[name="primary-color"]').val(o.primary),$('input[name="scnd-color"]').val(o.secondary),$(".media-chooser img").attr("src",o.header),$('input[name="main-layout"][value="'+o.layout+'"]').prop("checked",!0),$('input[name="create-layout"][value="'+o.layout+'"]').prop("checked",!0)}$(".saveoptions").click(function(){var t={};t.fontSize=$('input[name="root-font-size"]').val(),t.containerWidth=$('input[name="main-container-width"]').val(),t.maxWidth=$('input[name="main-max-width"]').val(),t.gutter=$('input[name="gutter-width"]').val(),t.bgColor=$('input[name="background-color"]').val(),t.mainColor=$('input[name="main-color"]').val(),t.primary=$('input[name="primary-color"]').val(),t.secondary=$('input[name="scnd-color"]').val(),t.header=$(".media-chooser img").attr("src"),t.layout=$('input[name="main-layout"]:checked').val(),setCookie("themeOptions",JSON.stringify(t),1),$("iframe").attr("src",function(t,e){return e})}),$(".resetoptions").click(function(){var t=JSON.parse(getCookie("themeOptionsInitial"));$('input[name="root-font-size"]').val(t.fontSize),$('input[name="main-container-width"]').val(t.containerWidth),$('input[name="main-max-width"]').val(t.maxWidth),$('input[name="gutter-width"]').val(t.gutter),$('input[name="background-color"]').val(t.bgColor),$('input[name="main-color"]').val(t.mainColor),$('input[name="primary-color"]').val(t.primary),$('input[name="scnd-color"]').val(t.secondary),$(".media-chooser img").attr("src",t.header),$('input[name="main-layout"][value="'+t.layout+'"]').prop("checked",!0)}),$("input").on("change",function(){$(".saveoptions").click()})}if(~window.location.pathname.indexOf("editconfig")&&getCookie("siteConfig")){var config=JSON.parse(getCookie("siteConfig"));$('input[name="title"]').val(config.title),$('input[name="url"]').val(config.url),$('input[name="desc"]').val(config.desc),$('input[name="author"]').val(config.author),$('input[name="insta"]').val(config.insta),$('input[name="twitter"]').val(config.twitter),$('input[name="fb"]').val(config.fb)}if($(".saveconfig").click(function(){var t={};t.title=$('input[name="title"]').val(),t.url=$('input[name="url"]').val(),t.desc=$('input[name="desc"]').val(),t.author=$('input[name="author"]').val(),t.insta=$('input[name="insta"]').val(),t.twitter=$('input[name="twitter"]').val(),t.fb=$('input[name="fb"]').val(),setCookie("siteConfig",JSON.stringify(t),1),alert("Changes saved")}),getCookie("sidebar")){var sidebar=JSON.parse(getCookie("sidebar"));console.log(sidebar),$.each(sidebar,function(t){parseInt(t);var e='<div class="'+this.type+' widget dragable ui-draggable ui-draggable-handle clone">';e+="<h3>","fb"==this.type&&(e+='<span lang="en">Facebook Page</span><span lang="de">Facebook Seite</span>'),"html"==this.type&&(e+="Text"),e+="</h3>",e+='<span class="edit"><i class="fas fa-edit"> </i></span>',e+='<span class="delete"><i class="fas fa-trash-alt"> </i></span>',e+='<div class="widget-config">',"fb"==this.type&&(e+='<div class="wrap">',e+='<label for="fb-widget-title'+this.id+'">',e+='<span lang="en">Title</span><span lang="de">Titel</span>',e+="</label>",e+='<input name="fb-widget-title'+this.id+'" id="fb-widget-title'+this.id+'" type="text" value="'+this.title+'">',e+="</div>",e+='<div class="wrap">',e+='<label for="fb-url'+this.url+'">URL</label>',e+='<input name="fb-url'+this.url+'" id="fb-url'+this.url+'" type="url" value="'+this.url+'">',e+="</div>"),"html"==this.type&&(e+='<div class="wrap">',e+='<label for="edit-title-html-widget'+this.id+'">',e+='<span lang="en">Title</span><span lang="de">Titel</span>',e+="</label>",e+='<input name="edit-title-html-widget'+this.id+'" id="edit-title-html-widget'+this.id+'" type="text" value="'+this.title+'">',e+="</div>",e+='<div class="wrap">',e+='<label for="edit-content-html-widget'+this.id+'">HTML</label>',e+='<textarea name="edit-content-html-widget'+this.id+'" id="edit-content-html-widget'+this.id+'">'+this.content+"</textarea>",e+="</div>"),e+='<span class="btn savesidebar"><span lang="en">Apply</span><span lang="de">Speichern</span></span>',e+="</div>",e+="</div>",$(".sidebar-areas .area").append(e)})}if($(".area").on("click",".widget .delete",function(){confirm("delete item?")&&$(this).parent().remove()}),$(".area").on("click",".widget .edit",function(){$(this).siblings(".widget-config").slideToggle()}),$(".area").on("click",".widget .apply",function(){$(this).parent().slideToggle()}),$(".area").on("focus",".widget input, .widget textarea",function(){styleInput($(this),"focus")}),$(".area").on("blur",".widget input, .widget textarea",function(){styleInput($(this),"blur")}),$(".area").on("click",".savesidebar",function(){alert("save");var i={};$(".sidebar-areas .area").each(function(){$(this).children(".widget").length&&$(this).children(".widget").each(function(t){var e={},a=$(this).attr("class");0<=a.indexOf("fb")&&(e.type="fb"),0<=a.indexOf("html")&&(e.type="html"),$(this).draggable("widget").find("input, textarea").each(function(){$(this).is('[name*="title"]')&&(e.title=$(this).val()),"fb"==e.type&&$(this).is('[type="url"]')&&(e.url=$(this).val()),"html"==e.type&&$(this).is('[name*="content"]')&&(e.content=$(this).val())}),i[t]=e,console.log(e)})}),console.log(i),setCookie("sidebar",JSON.stringify(i),1)}),~window.location.pathname.indexOf("navigation")){if(getCookie("navigation")){console.log("nav cookie exists");var nav=JSON.parse(getCookie("navigation"));console.log(getCookie("navigation")),$.each(nav,function(t){var a=parseInt(t),e="edit-title-"+this.title,i='<div class="menu-element dragable ui-draggable ui-draggable-handle ui-sortable-handle clone">';if(i+='<span class="title">',i+=this.title,i+="</span>",i+='<span class="edit"><i class="fas fa-edit"></i></span>',i+='<span class="delete"><i class="fas fa-trash-alt"></i></span>',i+='<div class="edit-name">',i+='<div class="wrap">',i+='<label for="'+e+'">display as</label>',i+='<input type="text" name="'+e+'" id="'+e+'" value="'+this.title+'">',i+="</div>",i+='<span class="btn apply">apply</span>',i+="</div>",i+="</div>",$(".menu-areas .area:nth-of-type("+a+")").append(i),this.parent){console.log(this.title),console.log(this.children);var n=this.children;$.each(n,function(){console.log(this.title);var t="edit-title-"+this.title,e='<div class="menu-element dragable ui-draggable ui-draggable-handle ui-sortable-handle clone">';e+='<span class="title">',e+=this.title,e+="</span>",e+='<span class="edit"><i class="fas fa-edit"></i></span>',e+='<span class="delete"><i class="fas fa-trash-alt"></i></span>',e+='<div class="edit-name">',e+='<div class="wrap">',e+='<label for="'+t+'">display as</label>',e+='<input type="text" name="'+t+'" id="'+t+'" value="'+this.title+'">',e+="</div>",e+='<span class="btn apply">apply</span>',e+="</div>",e+="</div>",$(".menu-areas .area:nth-of-type("+a+")").append(e)})}console.log(a)})}$(".savenav").click(function(){var n={};$(".menu-areas .area").each(function(t){var e={};if($(this).children(".menu-element").length){var a=$(this).children(".menu-element:nth-child(2)");if(e.title=a.find('input[name*="edit-title"]').val(),e.url="#",n[t+1]=e,1<$(this).children(".menu-element").length){e.parent=!0;var i={};$(this).children(".menu-element").each(function(t){var e={};0!=t&&(e.title=$(this).find('input[name*="edit-title"]').val(),e.url="#",i[t]=e)}),e.children=i}else e.parent=!1}}),setCookie("navigation",JSON.stringify(n),1),n=JSON.parse(getCookie("navigation")),alert("saved")}),$(".area").on("click",".menu-element .delete",function(){confirm("delete item?")&&$(this).parent().remove()}),$(".area").on("click",".menu-element .edit",function(){$(this).siblings(".edit-name").slideToggle()}),$(".area").on("click",".menu-element .apply",function(){var t=$(this).parent().find("input").val();$(this).parent().parent().find(".title").text(t),$(this).parent().slideToggle()})}if(~window.location.pathname.indexOf("prev")){if(getCookie("siteConfig")){config=JSON.parse(getCookie("siteConfig"));$(".site-title").append("<h1>"+config.title+"</h1>")}if(getCookie("themeOptions")){o=JSON.parse(getCookie("themeOptions"));$("body").addClass(o.layout);var style="<style>";style+="html, body{",style+="font-size: "+o.fontSize+"px;",style+="background-color: "+o.bgColor+";",style+="color: "+o.mainColor+";",style+="}",style+=".site-title{",style+="color: "+o.bgColor+";",style+="}",style+=".btn{",style+="background: "+o.primary+";",style+="color: white;",style+="}",style+=".btn:hover{",style+="background: "+o.secondary+";",style+="color: white;",style+="}",style+="a{",style+="color: "+o.primary+";",style+="}",style+="a:hover{",style+="color: "+o.secondary+";",style+="}",style+="article, .widget{border: 2px solid "+o.primary+"}",style+=".main-wrapper{",style+="max-width: "+o.maxWidth+"px;",style+="width: "+o.containerWidth+"%;",style+="}",style+=".header{",style+="background-image: url("+o.header+");",style+="}",style+="</style>",$("body").prepend(style)}if(getCookie("sidebar")){sidebar=JSON.parse(getCookie("sidebar"));console.log(sidebar),$.each(sidebar,function(t){parseInt(t);var e='<div class="'+this.type+' widget">';e+='<h3 class="title">',e+=this.title,e+="</h3>","fb"==this.type&&(e+='<div class="fb-page" data-href="'+this.url+'" data-tabs="timeline" data-small-header="false" data-adapt-container-width="true" data-hide-cover="false" data-show-facepile="false"><blockquote cite="'+this.url+'" class="fb-xfbml-parse-ignore"><a href="https://www.facebook.com/facebook">Facebook</a></blockquote></div>'),"html"==this.type&&(e+=this.content),e+="</div>",$(".sidebar").append(e)})}if(getCookie("posts")){posts=JSON.parse(getCookie("posts")),postItems=[];$.each(posts,function(){var t="";for(i=0;i<this.tags.length;i++)t+='<span class="tag">'+this.tags[i]+"</span>";var e="<article>";e+='<span class="date">'+this.date+"</span>",this.featuredImage&&(e+='<img src="'+this.featuredImage+'">'),e+='<div class="content">',e+='<div class="post-title">',e+="<h2>"+this.title+"</h2>",e+="</div>",e+='<div class="post-tags"><i class="fas fa-tag"></i>'+t+"</div>",e+='<div class="post-content">'+this.content+"</div>",e+='<span class="btn">Read More</span>',e+="</div></article>",postItems.push(e)})}if($(".frontend-posts").append(postItems),~window.location.pathname.indexOf("post"))if(getCookie("currentEdit")){cp=JSON.parse(getCookie("currentEdit")),o=JSON.parse(getCookie("themeOptions"));if(console.log(cp),console.log(cp.date),"published"==cp.status){var article="<article>";article+='<span class="date">'+cp.date+"</span>",cp.featuredImage&&(article+='<img src="'+cp.featuredImage+'">'),article+='<div class="content">',article+='<div class="post-title">',article+="<h2>"+cp.title+"</h2>",article+="</div>",article+='<div class="post-content">'+cp.content+"</div>",article+="</div></article>",$(".frontend-post").append(article)}}else console.log("no current endit");if(~window.location.pathname.indexOf("page"))if(getCookie("currentEdit")){cp=JSON.parse(getCookie("currentEdit")),o=JSON.parse(getCookie("themeOptions"));if(console.log(cp),console.log(cp.date),"published"==cp.status){article="<article>";article+='<div class="content">',article+='<div class="page-title">',article+="<h2>"+cp.title+"</h2>",article+="</div>",article+='<div class="page-content">'+cp.content+"</div>",article+="</div></article>",$(".frontend-page").append(article)}}else console.log("no current endit");if(getCookie("navigation")){var i;nav=JSON.parse(getCookie("navigation"));$.each(nav,function(t){parseInt(t);var e=this.children,a="",i="";i=this.parent?'<span class="parent">':'<a href="'+this.url+'">',this.parent&&(i+="<span>"),i+=this.title,this.parent&&(i+='<i class="fas fa-angle-down"></i></span>',i+='<span class="children">',$.each(e,function(){a+='<a href="'+this.url+'">'+this.title+"</a>"}),i+=a,i+="</span>"),this.parent?i+="</span>":i+="</a>",$(".navbar").append(i)})}$(".parent .children").hide(),$(".parent").click(function(){$(".parent").not($(this)).children("children").slideUp(),$(this).children(".children").slideToggle()})}$("[data-togglepopup]").each(function(){$(this).click(function(){var t=$(this).data("togglepopup");$("."+t).fadeToggle(),$("body").toggleClass("popup-open"),$("body").append('<div class="behind-popup"></div>')})}),$("body").on("click tap",".behind-popup, .close",function(){$("body").removeClass("popup-open"),$(".popup").fadeOut(),$(".behind-popup").remove()}),$(".popup").prepend('<span class="close"><i class="fas fa-times"></i></span>');var folder="img/";$.ajax({url:folder,success:function(t){$(t).find("a").attr("href",function(t,e){e.match(/\.(jpe?g|png|gif)$/)&&$(".popup.media .content").append('<img class="media-file" src="'+folder+e+'">')})}}),$(".popup.media .content").on("click",".media-file",function(){var t=$(this).attr("src");$(".behind-popup").click(),$(".media-chooser img").attr("src",t),$("input").change()}),$(".dragable").draggable({revert:!0,helper:"clone",cursor:"move",revertDuration:0,cancel:".wrap"}),$(".areas .area").droppable({accept:".dragable",activeClass:"ui-state-highlight",drop:function(t,e){var a=$(e.draggable);a.hasClass("clone")||(a=a.clone().addClass("clone")).draggable({revert:!0,cursor:"move",revertDuration:0,cancel:".wrap"}),$(this).addClass("has-drop").append(a)}}).sortable({items:".dragable",sort:function(){$(this).removeClass("ui-state-default")}}),$(".wrap input, .wrap textarea").each(function(){styleInput($(this),"inital")}),$(".wrap input, .wrap textarea").focus(function(){styleInput($(this),"focus")}),$(".wrap input, .wrap textarea").blur(function(){styleInput($(this),"blur")}),$(".trumbowyg-box").prev("label").addClass("up"),$(document).keyup(function(t){27===t.keyCode&&($("body").removeClass("popup-open"),$(".popup").fadeOut(),$(".behind-popup").remove())});
//# sourceMappingURL=main.min.js.map